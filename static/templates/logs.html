{% extends "base.html" %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h2>ğŸ—’ï¸ Bot LoglarÄ±</h2>
    <a href="{{ url_for('index') }}" class="btn">â—€ï¸ Geri</a>
</div>

<!-- Filter Controls -->
<div style="background: #f5f5f5; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
    <form method="get" style="display: flex; gap: 15px; align-items: end;">
        <div class="form-group" style="margin-bottom: 0; flex: 1;">
            <label for="lines">SÉ™tir sayÄ±:</label>
            <select name="lines" id="lines" onchange="this.form.submit()">
                <option value="50" {% if num_lines==50 %}selected{% endif %}>50</option>
                <option value="100" {% if num_lines==100 %}selected{% endif %}>100</option>
                <option value="200" {% if num_lines==200 %}selected{% endif %}>200</option>
                <option value="500" {% if num_lines==500 %}selected{% endif %}>500</option>
                <option value="1000" {% if num_lines==1000 %}selected{% endif %}>1000</option>
            </select>
        </div>

        <div class="form-group" style="margin-bottom: 0; flex: 1;">
            <label for="level">SÉ™viyyÉ™:</label>
            <select name="level" id="level" onchange="this.form.submit()">
                <option value="all" {% if filter_level=='all' %}selected{% endif %}>HamÄ±sÄ±</option>
                <option value="info" {% if filter_level=='info' %}selected{% endif %}>INFO</option>
                <option value="warning" {% if filter_level=='warning' %}selected{% endif %}>WARNING</option>
                <option value="error" {% if filter_level=='error' %}selected{% endif %}>ERROR</option>
            </select>
        </div>

        <button type="submit" class="btn" style="margin-bottom: 0;">ğŸ”„ YenilÉ™</button>
    </form>
</div>

<!-- Logs Display -->
{% if logs %}
<div
    style="background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 5px; font-family: 'Courier New', monospace; font-size: 12px; max-height: 600px; overflow-y: auto;">
    {% for log in logs %}
    <div style="padding: 5px 0; border-bottom: 1px solid #333; word-wrap: break-word;">
        {% if 'ERROR' in log %}
        <span style="color: #f48771;">{{ log }}</span>
        {% elif 'WARNING' in log %}
        <span style="color: #dcdcaa;">{{ log }}</span>
        {% elif 'INFO' in log %}
        <span style="color: #4ec9b0;">{{ log }}</span>
        {% else %}
        {{ log }}
        {% endif %}
    </div>
    {% endfor %}
</div>

<div style="margin-top: 15px; text-align: center; color: #666; font-size: 14px;">
    ğŸ“Š GÃ¶stÉ™rilÉ™n: {{ logs|length }} sÉ™tir
</div>
{% else %}
<div class="empty-state">
    <h3>Log tapÄ±lmadÄ±</h3>
    <p>HÉ™lÉ™ heÃ§ bir log yazÄ±lmayÄ±b vÉ™ ya log faylÄ± boÅŸdur</p>
</div>
{% endif %}

<style>
    /* Custom scrollbar for logs */
    div[style*="max-height: 600px"]::-webkit-scrollbar {
        width: 10px;
    }

    div[style*="max-height: 600px"]::-webkit-scrollbar-track {
        background: #2d2d2d;
    }

    div[style*="max-height: 600px"]::-webkit-scrollbar-thumb {
        background: #555;
        border-radius: 5px;
    }

    div[style*="max-height: 600px"]::-webkit-scrollbar-thumb:hover {
        background: #777;
    }
</style>
{% endblock %}